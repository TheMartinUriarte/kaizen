<h1>Projects#show</h1>
<p>Find me in app/views/projects/show.html.erb</p>

<%= link_to("Edit", edit_project_path(@project.title), class: 'btn btn-info') %> <%= link_to("Delete", @project, :method => :delete, class: 'btn btn-danger', data: {confirm: "Are you sure you want to delete this project?"}) %> <%= link_to("Generate Workflow", workflow_path(@project.title), class: 'btn btn-success') %>
<p>
  <strong>Project Title:</strong> <%= @project.title %><br>
  <strong>Project Deadline:</strong> <%= @project.deadline %><br>
  <strong>Project Description:</strong> <%= @project.description %><br>
  <strong>Project Tasks:</strong> <span class="task">Add Task</span>
  <div class="new-task">
    <%= form_for :task, url: '/tasks' do |f| %>
      <%= f.hidden_field :project_id, :value => @project.id %>
      Title: <%= f.text_field :title %><br>
      Deadline: <%= f.date_field :deadline %><br>
      <span class="description">Description:</span> <%= f.text_area :description %><br>
      Skills:<br>
      <div class="skills-scroll" data-spy='scroll'>
        <%Skill.all.each do |skill|%>
          <%=skill.name%>: <%= check_box_tag "skills[]", skill.id%><br>
        <%end%>
      </div>
      Developers:<br>
      <div class="skills-scroll" data-spy="scroll">
        <% Developer.all.each do |dev| %>
          <%= check_box_tag "developers[]", dev.id %> <%= dev.name %>:
          <% Developerskill.where({developer_id: dev}).each do |devskill| %>
            <%= Skill.find(devskill.skill_id).name %> (<%= devskill.level %>),
          <% end %>
          <br>
        <% end %>
      </div>
      <%= f.submit(class: 'btn btn-success') %>
    <% end %>
  </div>
  <% @project.tasks.order(:updated_at).reverse_order.each do |task| %>
    <p><%= task.title %><br>
    <%= task.deadline %><br>
    <%= task.description %><br></p>
    <strong>Required Skills:</strong><br>
    <% task.skills.each do |skill| %>
      <%= skill.name %>,
    <% end %><br>
    <strong>Developers:</strong><br>
    <% if task.developer %>
      <%= task.developer.name %><br>
    <% end %>
    <%= link_to('Edit', edit_task_path(task.title), class: 'btn btn-info btn-sm') %> <%= link_to('Delete', task, :method => :delete, data: {confirm: 'Are you sure you want to delete this task?'}, class: 'btn btn-danger btn-sm') %>
  <% end %>
</p>
